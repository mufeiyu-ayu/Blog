import{_ as s,o as n,c as a,a4 as l}from"./chunks/framework.f8637b7f.js";const C=JSON.parse('{"title":"","description":"","frontmatter":{},"headers":[],"relativePath":"Page/Redis/dataType/index.md","filePath":"Page/Redis/dataType/index.md","lastUpdated":1699022038000}'),p={name:"Page/Redis/dataType/index.md"},o=l(`<h2 id="常用命令" tabindex="-1">常用命令 <a class="header-anchor" href="#常用命令" aria-label="Permalink to &quot;常用命令&quot;">​</a></h2><h3 id="redis-key" tabindex="-1">Redis key <a class="header-anchor" href="#redis-key" aria-label="Permalink to &quot;Redis key&quot;">​</a></h3><ol><li>DEL key [key ...] 删除给定的一个或多个 key 。不存在的 key 会被忽略。</li><li>DUMP key 序列化给定 key ，并返回被序列化的值。</li><li>EXISTS key 检查给定 key 是否存在。</li><li>EXPIRE key seconds 为给定 key 设置过期时间。</li><li>EXPIREAT key timestamp 为给定 key 设置过期时间。timestamp 是 UNIX 时间戳。</li><li>PEXPIRE key milliseconds 为给定 key 设置过期时间。timestamp 是 UNIX 时间戳。</li><li>PEXPIREAT key milliseconds-timestamp 为给定 key 设置过期时间。timestamp 是 UNIX 时间戳。</li><li>KEYS pattern 查找所有符合给定模式( pattern )的 key 。</li><li>MOVE key db 将当前数据库的 key 移动到给定的数据库 db 当中。</li><li>PERSIST key 移除给定 key 的过期时间，使得 key 永不过期。</li><li>PTTL key 以毫秒为单位返回 key 的剩余的过期时间。</li><li>TTL key 以秒为单位，返回给定 key 的剩余生存时间(TTL, time to live)。</li><li>RANDOMKEY 从当前数据库中随机返回一个 key 。</li><li>RENAME key newkey 修改 key 的名称</li><li>RENAMENX key newkey 仅当 newkey 不存在时，将 key 改名为 newkey 。</li><li>TYPE key 返回 key 所储存的值的类型。</li><li>FLUSHALL 删除所有数据库的所有 key 。(危险操作)</li><li>FLUSHDB 删除当前数据库的所有 key 。</li></ol><h3 id="string" tabindex="-1">String <a class="header-anchor" href="#string" aria-label="Permalink to &quot;String&quot;">​</a></h3><div class="language-shell vp-adaptive-theme line-numbers-mode"><button title="Copy Code" class="copy"></button><span class="lang">shell</span><pre class="shiki github-dark vp-code-dark"><code><span class="line"><span style="color:#79B8FF;">set</span><span style="color:#E1E4E8;"> </span><span style="color:#9ECBFF;">k1</span><span style="color:#E1E4E8;">  </span><span style="color:#9ECBFF;">value</span><span style="color:#E1E4E8;"> [NX</span><span style="color:#F97583;">|</span><span style="color:#B392F0;">XX]</span><span style="color:#E1E4E8;"> [GET] [EX seconds</span><span style="color:#F97583;">|</span><span style="color:#E1E4E8;">PX milliseconds</span><span style="color:#F97583;">|</span><span style="color:#E1E4E8;">EXAT unix-time-seconds</span><span style="color:#F97583;">|</span><span style="color:#E1E4E8;">PXAT unix-time</span></span>
<span class="line"><span style="color:#6A737D;">#  NX: 当key不存在时，才会设置</span></span>
<span class="line"><span style="color:#6A737D;">#  XX: 当key存在时，才会设置</span></span>
<span class="line"><span style="color:#6A737D;">#  GET: 返回key的值</span></span>
<span class="line"><span style="color:#6A737D;">#  EX seconds: 设置过期时间，单位秒</span></span>
<span class="line"><span style="color:#6A737D;">#  PX milliseconds: 设置过期时间，单位毫秒</span></span>
<span class="line"><span style="color:#6A737D;">#  EXAT unix-time-seconds: 设置过期时间，单位秒</span></span>
<span class="line"><span style="color:#6A737D;">#  PXAT unix-time-milliseconds: 设置过期时间，单位毫秒</span></span>
<span class="line"><span style="color:#E1E4E8;">mset k1 v1 k2 v2 k3 v3 </span><span style="color:#6A737D;"># 批量设置</span></span>
<span class="line"><span style="color:#E1E4E8;">mget k1 k2 k3 </span><span style="color:#6A737D;"># 批量获取</span></span>
<span class="line"><span style="color:#E1E4E8;">setnx k1 v1 </span><span style="color:#6A737D;"># 当key不存在时，才会设置</span></span>
<span class="line"><span style="color:#E1E4E8;">set k1 ex </span><span style="color:#79B8FF;">10</span><span style="color:#E1E4E8;"> </span><span style="color:#6A737D;"># 设置过期时间，单位秒</span></span>
<span class="line"><span style="color:#E1E4E8;">incr k1 </span><span style="color:#6A737D;"># 自增1</span></span>
<span class="line"><span style="color:#E1E4E8;">incrby k1 </span><span style="color:#79B8FF;">10</span><span style="color:#E1E4E8;"> </span><span style="color:#6A737D;"># 自增10</span></span>
<span class="line"><span style="color:#E1E4E8;">decr k1 </span><span style="color:#6A737D;"># 自减1</span></span>
<span class="line"><span style="color:#E1E4E8;">decrby k1 </span><span style="color:#79B8FF;">10</span><span style="color:#E1E4E8;"> </span><span style="color:#6A737D;"># 自减10</span></span>
<span class="line"><span style="color:#E1E4E8;">getrange k1 start end  </span><span style="color:#6A737D;"># 获取指定范围的字符串</span></span>
<span class="line"><span style="color:#E1E4E8;">setrange k1 offset value </span><span style="color:#6A737D;"># 从指定偏移量开始，替换字符串</span></span></code></pre><pre class="shiki github-light vp-code-light"><code><span class="line"><span style="color:#005CC5;">set</span><span style="color:#24292E;"> </span><span style="color:#032F62;">k1</span><span style="color:#24292E;">  </span><span style="color:#032F62;">value</span><span style="color:#24292E;"> [NX</span><span style="color:#D73A49;">|</span><span style="color:#6F42C1;">XX]</span><span style="color:#24292E;"> [GET] [EX seconds</span><span style="color:#D73A49;">|</span><span style="color:#24292E;">PX milliseconds</span><span style="color:#D73A49;">|</span><span style="color:#24292E;">EXAT unix-time-seconds</span><span style="color:#D73A49;">|</span><span style="color:#24292E;">PXAT unix-time</span></span>
<span class="line"><span style="color:#6A737D;">#  NX: 当key不存在时，才会设置</span></span>
<span class="line"><span style="color:#6A737D;">#  XX: 当key存在时，才会设置</span></span>
<span class="line"><span style="color:#6A737D;">#  GET: 返回key的值</span></span>
<span class="line"><span style="color:#6A737D;">#  EX seconds: 设置过期时间，单位秒</span></span>
<span class="line"><span style="color:#6A737D;">#  PX milliseconds: 设置过期时间，单位毫秒</span></span>
<span class="line"><span style="color:#6A737D;">#  EXAT unix-time-seconds: 设置过期时间，单位秒</span></span>
<span class="line"><span style="color:#6A737D;">#  PXAT unix-time-milliseconds: 设置过期时间，单位毫秒</span></span>
<span class="line"><span style="color:#24292E;">mset k1 v1 k2 v2 k3 v3 </span><span style="color:#6A737D;"># 批量设置</span></span>
<span class="line"><span style="color:#24292E;">mget k1 k2 k3 </span><span style="color:#6A737D;"># 批量获取</span></span>
<span class="line"><span style="color:#24292E;">setnx k1 v1 </span><span style="color:#6A737D;"># 当key不存在时，才会设置</span></span>
<span class="line"><span style="color:#24292E;">set k1 ex </span><span style="color:#005CC5;">10</span><span style="color:#24292E;"> </span><span style="color:#6A737D;"># 设置过期时间，单位秒</span></span>
<span class="line"><span style="color:#24292E;">incr k1 </span><span style="color:#6A737D;"># 自增1</span></span>
<span class="line"><span style="color:#24292E;">incrby k1 </span><span style="color:#005CC5;">10</span><span style="color:#24292E;"> </span><span style="color:#6A737D;"># 自增10</span></span>
<span class="line"><span style="color:#24292E;">decr k1 </span><span style="color:#6A737D;"># 自减1</span></span>
<span class="line"><span style="color:#24292E;">decrby k1 </span><span style="color:#005CC5;">10</span><span style="color:#24292E;"> </span><span style="color:#6A737D;"># 自减10</span></span>
<span class="line"><span style="color:#24292E;">getrange k1 start end  </span><span style="color:#6A737D;"># 获取指定范围的字符串</span></span>
<span class="line"><span style="color:#24292E;">setrange k1 offset value </span><span style="color:#6A737D;"># 从指定偏移量开始，替换字符串</span></span></code></pre><div class="line-numbers-wrapper" aria-hidden="true"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br><span class="line-number">8</span><br><span class="line-number">9</span><br><span class="line-number">10</span><br><span class="line-number">11</span><br><span class="line-number">12</span><br><span class="line-number">13</span><br><span class="line-number">14</span><br><span class="line-number">15</span><br><span class="line-number">16</span><br><span class="line-number">17</span><br><span class="line-number">18</span><br></div></div><h3 id="list" tabindex="-1">List <a class="header-anchor" href="#list" aria-label="Permalink to &quot;List&quot;">​</a></h3><div class="language-shell vp-adaptive-theme line-numbers-mode"><button title="Copy Code" class="copy"></button><span class="lang">shell</span><pre class="shiki github-dark vp-code-dark"><code><span class="line"><span style="color:#B392F0;">lpush</span><span style="color:#E1E4E8;"> </span><span style="color:#9ECBFF;">k1</span><span style="color:#E1E4E8;"> </span><span style="color:#9ECBFF;">v1</span><span style="color:#E1E4E8;"> </span><span style="color:#9ECBFF;">v2</span><span style="color:#E1E4E8;"> </span><span style="color:#9ECBFF;">v3</span><span style="color:#E1E4E8;"> </span><span style="color:#6A737D;"># 从左边插入</span></span>
<span class="line"><span style="color:#B392F0;">rpush</span><span style="color:#E1E4E8;"> </span><span style="color:#9ECBFF;">k1</span><span style="color:#E1E4E8;"> </span><span style="color:#9ECBFF;">v1</span><span style="color:#E1E4E8;"> </span><span style="color:#9ECBFF;">v2</span><span style="color:#E1E4E8;"> </span><span style="color:#9ECBFF;">v3</span><span style="color:#E1E4E8;"> </span><span style="color:#6A737D;"># 从右边插入</span></span>
<span class="line"><span style="color:#B392F0;">lrange</span><span style="color:#E1E4E8;"> </span><span style="color:#9ECBFF;">k1</span><span style="color:#E1E4E8;"> </span><span style="color:#9ECBFF;">start</span><span style="color:#E1E4E8;"> </span><span style="color:#9ECBFF;">end</span><span style="color:#E1E4E8;"> </span><span style="color:#6A737D;"># 获取指定范围的元素</span></span>
<span class="line"><span style="color:#B392F0;">lpop</span><span style="color:#E1E4E8;"> </span><span style="color:#9ECBFF;">k1</span><span style="color:#E1E4E8;"> </span><span style="color:#6A737D;"># 从左边弹出</span></span>
<span class="line"><span style="color:#B392F0;">rpop</span><span style="color:#E1E4E8;"> </span><span style="color:#9ECBFF;">k1</span><span style="color:#E1E4E8;"> </span><span style="color:#6A737D;"># 从右边弹出</span></span>
<span class="line"><span style="color:#B392F0;">lindex</span><span style="color:#E1E4E8;"> </span><span style="color:#9ECBFF;">k1</span><span style="color:#E1E4E8;"> </span><span style="color:#9ECBFF;">index</span><span style="color:#E1E4E8;"> </span><span style="color:#6A737D;"># 获取指定索引的元素</span></span>
<span class="line"><span style="color:#B392F0;">linsert</span><span style="color:#E1E4E8;"> </span><span style="color:#9ECBFF;">k1</span><span style="color:#E1E4E8;"> </span><span style="color:#9ECBFF;">before</span><span style="color:#F97583;">|</span><span style="color:#B392F0;">after</span><span style="color:#E1E4E8;"> </span><span style="color:#9ECBFF;">pivot</span><span style="color:#E1E4E8;"> </span><span style="color:#9ECBFF;">value</span><span style="color:#E1E4E8;"> </span><span style="color:#6A737D;"># 在指定元素前或后插入元素</span></span>
<span class="line"><span style="color:#B392F0;">llen</span><span style="color:#E1E4E8;"> </span><span style="color:#9ECBFF;">k1</span><span style="color:#E1E4E8;"> </span><span style="color:#6A737D;"># 获取长度</span></span>
<span class="line"><span style="color:#B392F0;">lrem</span><span style="color:#E1E4E8;"> </span><span style="color:#9ECBFF;">k1</span><span style="color:#E1E4E8;"> </span><span style="color:#9ECBFF;">count</span><span style="color:#E1E4E8;"> </span><span style="color:#9ECBFF;">value</span><span style="color:#E1E4E8;"> </span><span style="color:#6A737D;"># 删除指定数量的某个元素</span></span>
<span class="line"><span style="color:#B392F0;">lset</span><span style="color:#E1E4E8;"> </span><span style="color:#9ECBFF;">k1</span><span style="color:#E1E4E8;"> </span><span style="color:#9ECBFF;">index</span><span style="color:#E1E4E8;"> </span><span style="color:#9ECBFF;">value</span><span style="color:#E1E4E8;"> </span><span style="color:#6A737D;"># 修改指定索引的元素</span></span>
<span class="line"><span style="color:#B392F0;">ltrim</span><span style="color:#E1E4E8;"> </span><span style="color:#9ECBFF;">k1</span><span style="color:#E1E4E8;"> </span><span style="color:#9ECBFF;">start</span><span style="color:#E1E4E8;"> </span><span style="color:#9ECBFF;">end</span><span style="color:#E1E4E8;"> </span><span style="color:#6A737D;"># 截取指定范围的元素</span></span>
<span class="line"><span style="color:#B392F0;">lmove</span><span style="color:#E1E4E8;"> </span><span style="color:#9ECBFF;">source</span><span style="color:#E1E4E8;"> </span><span style="color:#9ECBFF;">destination</span><span style="color:#E1E4E8;"> </span><span style="color:#9ECBFF;">LEFT</span><span style="color:#F97583;">|</span><span style="color:#B392F0;">RIGHT</span><span style="color:#E1E4E8;"> </span><span style="color:#9ECBFF;">LEFT</span><span style="color:#F97583;">|</span><span style="color:#B392F0;">RIGHT</span><span style="color:#E1E4E8;"> </span><span style="color:#6A737D;"># 移动元素</span></span>
<span class="line"><span style="color:#6A737D;"># source: 源列表</span></span>
<span class="line"><span style="color:#6A737D;"># destination: 目标列表</span></span>
<span class="line"><span style="color:#6A737D;"># LEFT|RIGHT: 从源列表左边或右边移出</span></span>
<span class="line"><span style="color:#6A737D;"># LEFT|RIGHT: 移入到目标列表到左边或右边</span></span>
<span class="line"><span style="color:#B392F0;">lpushx</span><span style="color:#E1E4E8;"> </span><span style="color:#9ECBFF;">k1</span><span style="color:#E1E4E8;"> </span><span style="color:#9ECBFF;">v1</span><span style="color:#E1E4E8;"> </span><span style="color:#6A737D;"># 当key存在时，才会插入</span></span>
<span class="line"><span style="color:#B392F0;">rpushx</span><span style="color:#E1E4E8;"> </span><span style="color:#9ECBFF;">k1</span><span style="color:#E1E4E8;"> </span><span style="color:#9ECBFF;">v1</span><span style="color:#E1E4E8;"> </span><span style="color:#6A737D;"># 当key存在时，才会插入</span></span>
<span class="line"><span style="color:#B392F0;">lpos</span><span style="color:#E1E4E8;"> </span><span style="color:#9ECBFF;">k1</span><span style="color:#E1E4E8;"> </span><span style="color:#9ECBFF;">v1</span><span style="color:#E1E4E8;"> [RANK </span><span style="color:#9ECBFF;">rank]</span><span style="color:#E1E4E8;"> [COUNT </span><span style="color:#9ECBFF;">num]</span><span style="color:#E1E4E8;"> [MAXLEN </span><span style="color:#9ECBFF;">len]</span><span style="color:#E1E4E8;"> </span><span style="color:#6A737D;"># 查找元素 返回元素的索引</span></span>
<span class="line"><span style="color:#6A737D;"># RANK rank: 从指定索引开始查找(指的是假如有多个相同的元素，从第几个开始查找)</span></span>
<span class="line"><span style="color:#6A737D;"># COUNT num: 查找多少个元素</span></span>
<span class="line"><span style="color:#6A737D;"># MAXLEN len: 查找多少个元素</span></span></code></pre><pre class="shiki github-light vp-code-light"><code><span class="line"><span style="color:#6F42C1;">lpush</span><span style="color:#24292E;"> </span><span style="color:#032F62;">k1</span><span style="color:#24292E;"> </span><span style="color:#032F62;">v1</span><span style="color:#24292E;"> </span><span style="color:#032F62;">v2</span><span style="color:#24292E;"> </span><span style="color:#032F62;">v3</span><span style="color:#24292E;"> </span><span style="color:#6A737D;"># 从左边插入</span></span>
<span class="line"><span style="color:#6F42C1;">rpush</span><span style="color:#24292E;"> </span><span style="color:#032F62;">k1</span><span style="color:#24292E;"> </span><span style="color:#032F62;">v1</span><span style="color:#24292E;"> </span><span style="color:#032F62;">v2</span><span style="color:#24292E;"> </span><span style="color:#032F62;">v3</span><span style="color:#24292E;"> </span><span style="color:#6A737D;"># 从右边插入</span></span>
<span class="line"><span style="color:#6F42C1;">lrange</span><span style="color:#24292E;"> </span><span style="color:#032F62;">k1</span><span style="color:#24292E;"> </span><span style="color:#032F62;">start</span><span style="color:#24292E;"> </span><span style="color:#032F62;">end</span><span style="color:#24292E;"> </span><span style="color:#6A737D;"># 获取指定范围的元素</span></span>
<span class="line"><span style="color:#6F42C1;">lpop</span><span style="color:#24292E;"> </span><span style="color:#032F62;">k1</span><span style="color:#24292E;"> </span><span style="color:#6A737D;"># 从左边弹出</span></span>
<span class="line"><span style="color:#6F42C1;">rpop</span><span style="color:#24292E;"> </span><span style="color:#032F62;">k1</span><span style="color:#24292E;"> </span><span style="color:#6A737D;"># 从右边弹出</span></span>
<span class="line"><span style="color:#6F42C1;">lindex</span><span style="color:#24292E;"> </span><span style="color:#032F62;">k1</span><span style="color:#24292E;"> </span><span style="color:#032F62;">index</span><span style="color:#24292E;"> </span><span style="color:#6A737D;"># 获取指定索引的元素</span></span>
<span class="line"><span style="color:#6F42C1;">linsert</span><span style="color:#24292E;"> </span><span style="color:#032F62;">k1</span><span style="color:#24292E;"> </span><span style="color:#032F62;">before</span><span style="color:#D73A49;">|</span><span style="color:#6F42C1;">after</span><span style="color:#24292E;"> </span><span style="color:#032F62;">pivot</span><span style="color:#24292E;"> </span><span style="color:#032F62;">value</span><span style="color:#24292E;"> </span><span style="color:#6A737D;"># 在指定元素前或后插入元素</span></span>
<span class="line"><span style="color:#6F42C1;">llen</span><span style="color:#24292E;"> </span><span style="color:#032F62;">k1</span><span style="color:#24292E;"> </span><span style="color:#6A737D;"># 获取长度</span></span>
<span class="line"><span style="color:#6F42C1;">lrem</span><span style="color:#24292E;"> </span><span style="color:#032F62;">k1</span><span style="color:#24292E;"> </span><span style="color:#032F62;">count</span><span style="color:#24292E;"> </span><span style="color:#032F62;">value</span><span style="color:#24292E;"> </span><span style="color:#6A737D;"># 删除指定数量的某个元素</span></span>
<span class="line"><span style="color:#6F42C1;">lset</span><span style="color:#24292E;"> </span><span style="color:#032F62;">k1</span><span style="color:#24292E;"> </span><span style="color:#032F62;">index</span><span style="color:#24292E;"> </span><span style="color:#032F62;">value</span><span style="color:#24292E;"> </span><span style="color:#6A737D;"># 修改指定索引的元素</span></span>
<span class="line"><span style="color:#6F42C1;">ltrim</span><span style="color:#24292E;"> </span><span style="color:#032F62;">k1</span><span style="color:#24292E;"> </span><span style="color:#032F62;">start</span><span style="color:#24292E;"> </span><span style="color:#032F62;">end</span><span style="color:#24292E;"> </span><span style="color:#6A737D;"># 截取指定范围的元素</span></span>
<span class="line"><span style="color:#6F42C1;">lmove</span><span style="color:#24292E;"> </span><span style="color:#032F62;">source</span><span style="color:#24292E;"> </span><span style="color:#032F62;">destination</span><span style="color:#24292E;"> </span><span style="color:#032F62;">LEFT</span><span style="color:#D73A49;">|</span><span style="color:#6F42C1;">RIGHT</span><span style="color:#24292E;"> </span><span style="color:#032F62;">LEFT</span><span style="color:#D73A49;">|</span><span style="color:#6F42C1;">RIGHT</span><span style="color:#24292E;"> </span><span style="color:#6A737D;"># 移动元素</span></span>
<span class="line"><span style="color:#6A737D;"># source: 源列表</span></span>
<span class="line"><span style="color:#6A737D;"># destination: 目标列表</span></span>
<span class="line"><span style="color:#6A737D;"># LEFT|RIGHT: 从源列表左边或右边移出</span></span>
<span class="line"><span style="color:#6A737D;"># LEFT|RIGHT: 移入到目标列表到左边或右边</span></span>
<span class="line"><span style="color:#6F42C1;">lpushx</span><span style="color:#24292E;"> </span><span style="color:#032F62;">k1</span><span style="color:#24292E;"> </span><span style="color:#032F62;">v1</span><span style="color:#24292E;"> </span><span style="color:#6A737D;"># 当key存在时，才会插入</span></span>
<span class="line"><span style="color:#6F42C1;">rpushx</span><span style="color:#24292E;"> </span><span style="color:#032F62;">k1</span><span style="color:#24292E;"> </span><span style="color:#032F62;">v1</span><span style="color:#24292E;"> </span><span style="color:#6A737D;"># 当key存在时，才会插入</span></span>
<span class="line"><span style="color:#6F42C1;">lpos</span><span style="color:#24292E;"> </span><span style="color:#032F62;">k1</span><span style="color:#24292E;"> </span><span style="color:#032F62;">v1</span><span style="color:#24292E;"> [RANK </span><span style="color:#032F62;">rank]</span><span style="color:#24292E;"> [COUNT </span><span style="color:#032F62;">num]</span><span style="color:#24292E;"> [MAXLEN </span><span style="color:#032F62;">len]</span><span style="color:#24292E;"> </span><span style="color:#6A737D;"># 查找元素 返回元素的索引</span></span>
<span class="line"><span style="color:#6A737D;"># RANK rank: 从指定索引开始查找(指的是假如有多个相同的元素，从第几个开始查找)</span></span>
<span class="line"><span style="color:#6A737D;"># COUNT num: 查找多少个元素</span></span>
<span class="line"><span style="color:#6A737D;"># MAXLEN len: 查找多少个元素</span></span></code></pre><div class="line-numbers-wrapper" aria-hidden="true"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br><span class="line-number">8</span><br><span class="line-number">9</span><br><span class="line-number">10</span><br><span class="line-number">11</span><br><span class="line-number">12</span><br><span class="line-number">13</span><br><span class="line-number">14</span><br><span class="line-number">15</span><br><span class="line-number">16</span><br><span class="line-number">17</span><br><span class="line-number">18</span><br><span class="line-number">19</span><br><span class="line-number">20</span><br><span class="line-number">21</span><br><span class="line-number">22</span><br></div></div><h3 id="hash" tabindex="-1">Hash <a class="header-anchor" href="#hash" aria-label="Permalink to &quot;Hash&quot;">​</a></h3><div class="language-shell vp-adaptive-theme line-numbers-mode"><button title="Copy Code" class="copy"></button><span class="lang">shell</span><pre class="shiki github-dark vp-code-dark"><code><span class="line"><span style="color:#B392F0;">hset</span><span style="color:#E1E4E8;"> </span><span style="color:#9ECBFF;">k1</span><span style="color:#E1E4E8;"> </span><span style="color:#9ECBFF;">f1</span><span style="color:#E1E4E8;"> </span><span style="color:#9ECBFF;">v1</span><span style="color:#E1E4E8;"> </span><span style="color:#9ECBFF;">f2</span><span style="color:#E1E4E8;"> </span><span style="color:#9ECBFF;">v2</span><span style="color:#E1E4E8;"> </span><span style="color:#6A737D;"># 设置hash</span></span>
<span class="line"><span style="color:#B392F0;">hget</span><span style="color:#E1E4E8;"> </span><span style="color:#9ECBFF;">k1</span><span style="color:#E1E4E8;"> </span><span style="color:#9ECBFF;">f1</span><span style="color:#E1E4E8;"> </span><span style="color:#6A737D;"># 获取hash</span></span>
<span class="line"><span style="color:#B392F0;">hmset</span><span style="color:#E1E4E8;"> </span><span style="color:#9ECBFF;">k1</span><span style="color:#E1E4E8;"> </span><span style="color:#9ECBFF;">f1</span><span style="color:#E1E4E8;"> </span><span style="color:#9ECBFF;">v1</span><span style="color:#E1E4E8;"> </span><span style="color:#9ECBFF;">f2</span><span style="color:#E1E4E8;"> </span><span style="color:#9ECBFF;">v2</span><span style="color:#E1E4E8;"> </span><span style="color:#6A737D;"># 批量设置hash</span></span>
<span class="line"><span style="color:#B392F0;">hmget</span><span style="color:#E1E4E8;"> </span><span style="color:#9ECBFF;">k1</span><span style="color:#E1E4E8;"> </span><span style="color:#9ECBFF;">f1</span><span style="color:#E1E4E8;"> </span><span style="color:#9ECBFF;">f2</span><span style="color:#E1E4E8;"> </span><span style="color:#6A737D;"># 批量获取hash</span></span>
<span class="line"><span style="color:#B392F0;">hgetall</span><span style="color:#E1E4E8;"> </span><span style="color:#9ECBFF;">k1</span><span style="color:#E1E4E8;"> </span><span style="color:#6A737D;"># 获取所有hash</span></span>
<span class="line"><span style="color:#B392F0;">hdel</span><span style="color:#E1E4E8;"> </span><span style="color:#9ECBFF;">k1</span><span style="color:#E1E4E8;"> </span><span style="color:#9ECBFF;">f1</span><span style="color:#E1E4E8;"> </span><span style="color:#9ECBFF;">f2</span><span style="color:#E1E4E8;"> </span><span style="color:#6A737D;"># 删除hash</span></span>
<span class="line"><span style="color:#B392F0;">hexists</span><span style="color:#E1E4E8;"> </span><span style="color:#9ECBFF;">k1</span><span style="color:#E1E4E8;"> </span><span style="color:#9ECBFF;">f1</span><span style="color:#E1E4E8;"> </span><span style="color:#6A737D;"># 判断hash是否存在</span></span>
<span class="line"><span style="color:#B392F0;">hkeys</span><span style="color:#E1E4E8;"> </span><span style="color:#9ECBFF;">k1</span><span style="color:#E1E4E8;"> </span><span style="color:#6A737D;"># 获取所有的key</span></span>
<span class="line"><span style="color:#B392F0;">hvals</span><span style="color:#E1E4E8;"> </span><span style="color:#9ECBFF;">k1</span><span style="color:#E1E4E8;"> </span><span style="color:#6A737D;"># 获取所有的value</span></span>
<span class="line"><span style="color:#B392F0;">hlen</span><span style="color:#E1E4E8;"> </span><span style="color:#9ECBFF;">k1</span><span style="color:#E1E4E8;"> </span><span style="color:#6A737D;"># 获取长度</span></span>
<span class="line"><span style="color:#B392F0;">hincrby</span><span style="color:#E1E4E8;"> </span><span style="color:#9ECBFF;">k1</span><span style="color:#E1E4E8;"> </span><span style="color:#9ECBFF;">f1</span><span style="color:#E1E4E8;"> </span><span style="color:#79B8FF;">10</span><span style="color:#E1E4E8;"> </span><span style="color:#6A737D;"># 自增10</span></span>
<span class="line"><span style="color:#B392F0;">hincrbyfloat</span><span style="color:#E1E4E8;"> </span><span style="color:#9ECBFF;">k1</span><span style="color:#E1E4E8;"> </span><span style="color:#9ECBFF;">f1</span><span style="color:#E1E4E8;"> </span><span style="color:#79B8FF;">10.5</span><span style="color:#E1E4E8;"> </span><span style="color:#6A737D;"># 自增10.5</span></span>
<span class="line"><span style="color:#B392F0;">hstrlen</span><span style="color:#E1E4E8;"> </span><span style="color:#9ECBFF;">k1</span><span style="color:#E1E4E8;"> </span><span style="color:#9ECBFF;">f1</span><span style="color:#E1E4E8;"> </span><span style="color:#6A737D;"># 获取字符串长度</span></span>
<span class="line"><span style="color:#B392F0;">hkeys</span><span style="color:#E1E4E8;"> </span><span style="color:#9ECBFF;">k1</span><span style="color:#E1E4E8;"> </span><span style="color:#6A737D;"># 获取所有的key</span></span>
<span class="line"><span style="color:#B392F0;">hrandfield</span><span style="color:#E1E4E8;"> </span><span style="color:#9ECBFF;">k1</span><span style="color:#E1E4E8;"> [count [withvalues]] </span><span style="color:#6A737D;"># 随机获取count个元素</span></span>
<span class="line"><span style="color:#6A737D;"># withvalues: 是否获取value</span></span>
<span class="line"><span style="color:#B392F0;">hsetnx</span><span style="color:#E1E4E8;"> </span><span style="color:#9ECBFF;">k1</span><span style="color:#E1E4E8;"> </span><span style="color:#9ECBFF;">f1</span><span style="color:#E1E4E8;"> </span><span style="color:#9ECBFF;">v1</span><span style="color:#E1E4E8;"> </span><span style="color:#6A737D;"># 当key不存在时，才会设置</span></span>
<span class="line"><span style="color:#B392F0;">hscan</span><span style="color:#E1E4E8;"> </span><span style="color:#9ECBFF;">k1</span><span style="color:#E1E4E8;"> </span><span style="color:#9ECBFF;">cursor</span><span style="color:#E1E4E8;"> [MATCH </span><span style="color:#9ECBFF;">pattern]</span><span style="color:#E1E4E8;"> [COUNT </span><span style="color:#9ECBFF;">count]</span><span style="color:#E1E4E8;"> </span><span style="color:#6A737D;"># 模糊查询</span></span>
<span class="line"><span style="color:#B392F0;">hstrlen</span><span style="color:#E1E4E8;"> </span><span style="color:#9ECBFF;">k1</span><span style="color:#E1E4E8;"> </span><span style="color:#9ECBFF;">f1</span><span style="color:#E1E4E8;"> </span><span style="color:#6A737D;"># 获取某字段的value长度</span></span>
<span class="line"><span style="color:#B392F0;">hvals</span><span style="color:#E1E4E8;"> </span><span style="color:#9ECBFF;">k1</span><span style="color:#E1E4E8;"> </span><span style="color:#6A737D;"># 获取所有的value</span></span></code></pre><pre class="shiki github-light vp-code-light"><code><span class="line"><span style="color:#6F42C1;">hset</span><span style="color:#24292E;"> </span><span style="color:#032F62;">k1</span><span style="color:#24292E;"> </span><span style="color:#032F62;">f1</span><span style="color:#24292E;"> </span><span style="color:#032F62;">v1</span><span style="color:#24292E;"> </span><span style="color:#032F62;">f2</span><span style="color:#24292E;"> </span><span style="color:#032F62;">v2</span><span style="color:#24292E;"> </span><span style="color:#6A737D;"># 设置hash</span></span>
<span class="line"><span style="color:#6F42C1;">hget</span><span style="color:#24292E;"> </span><span style="color:#032F62;">k1</span><span style="color:#24292E;"> </span><span style="color:#032F62;">f1</span><span style="color:#24292E;"> </span><span style="color:#6A737D;"># 获取hash</span></span>
<span class="line"><span style="color:#6F42C1;">hmset</span><span style="color:#24292E;"> </span><span style="color:#032F62;">k1</span><span style="color:#24292E;"> </span><span style="color:#032F62;">f1</span><span style="color:#24292E;"> </span><span style="color:#032F62;">v1</span><span style="color:#24292E;"> </span><span style="color:#032F62;">f2</span><span style="color:#24292E;"> </span><span style="color:#032F62;">v2</span><span style="color:#24292E;"> </span><span style="color:#6A737D;"># 批量设置hash</span></span>
<span class="line"><span style="color:#6F42C1;">hmget</span><span style="color:#24292E;"> </span><span style="color:#032F62;">k1</span><span style="color:#24292E;"> </span><span style="color:#032F62;">f1</span><span style="color:#24292E;"> </span><span style="color:#032F62;">f2</span><span style="color:#24292E;"> </span><span style="color:#6A737D;"># 批量获取hash</span></span>
<span class="line"><span style="color:#6F42C1;">hgetall</span><span style="color:#24292E;"> </span><span style="color:#032F62;">k1</span><span style="color:#24292E;"> </span><span style="color:#6A737D;"># 获取所有hash</span></span>
<span class="line"><span style="color:#6F42C1;">hdel</span><span style="color:#24292E;"> </span><span style="color:#032F62;">k1</span><span style="color:#24292E;"> </span><span style="color:#032F62;">f1</span><span style="color:#24292E;"> </span><span style="color:#032F62;">f2</span><span style="color:#24292E;"> </span><span style="color:#6A737D;"># 删除hash</span></span>
<span class="line"><span style="color:#6F42C1;">hexists</span><span style="color:#24292E;"> </span><span style="color:#032F62;">k1</span><span style="color:#24292E;"> </span><span style="color:#032F62;">f1</span><span style="color:#24292E;"> </span><span style="color:#6A737D;"># 判断hash是否存在</span></span>
<span class="line"><span style="color:#6F42C1;">hkeys</span><span style="color:#24292E;"> </span><span style="color:#032F62;">k1</span><span style="color:#24292E;"> </span><span style="color:#6A737D;"># 获取所有的key</span></span>
<span class="line"><span style="color:#6F42C1;">hvals</span><span style="color:#24292E;"> </span><span style="color:#032F62;">k1</span><span style="color:#24292E;"> </span><span style="color:#6A737D;"># 获取所有的value</span></span>
<span class="line"><span style="color:#6F42C1;">hlen</span><span style="color:#24292E;"> </span><span style="color:#032F62;">k1</span><span style="color:#24292E;"> </span><span style="color:#6A737D;"># 获取长度</span></span>
<span class="line"><span style="color:#6F42C1;">hincrby</span><span style="color:#24292E;"> </span><span style="color:#032F62;">k1</span><span style="color:#24292E;"> </span><span style="color:#032F62;">f1</span><span style="color:#24292E;"> </span><span style="color:#005CC5;">10</span><span style="color:#24292E;"> </span><span style="color:#6A737D;"># 自增10</span></span>
<span class="line"><span style="color:#6F42C1;">hincrbyfloat</span><span style="color:#24292E;"> </span><span style="color:#032F62;">k1</span><span style="color:#24292E;"> </span><span style="color:#032F62;">f1</span><span style="color:#24292E;"> </span><span style="color:#005CC5;">10.5</span><span style="color:#24292E;"> </span><span style="color:#6A737D;"># 自增10.5</span></span>
<span class="line"><span style="color:#6F42C1;">hstrlen</span><span style="color:#24292E;"> </span><span style="color:#032F62;">k1</span><span style="color:#24292E;"> </span><span style="color:#032F62;">f1</span><span style="color:#24292E;"> </span><span style="color:#6A737D;"># 获取字符串长度</span></span>
<span class="line"><span style="color:#6F42C1;">hkeys</span><span style="color:#24292E;"> </span><span style="color:#032F62;">k1</span><span style="color:#24292E;"> </span><span style="color:#6A737D;"># 获取所有的key</span></span>
<span class="line"><span style="color:#6F42C1;">hrandfield</span><span style="color:#24292E;"> </span><span style="color:#032F62;">k1</span><span style="color:#24292E;"> [count [withvalues]] </span><span style="color:#6A737D;"># 随机获取count个元素</span></span>
<span class="line"><span style="color:#6A737D;"># withvalues: 是否获取value</span></span>
<span class="line"><span style="color:#6F42C1;">hsetnx</span><span style="color:#24292E;"> </span><span style="color:#032F62;">k1</span><span style="color:#24292E;"> </span><span style="color:#032F62;">f1</span><span style="color:#24292E;"> </span><span style="color:#032F62;">v1</span><span style="color:#24292E;"> </span><span style="color:#6A737D;"># 当key不存在时，才会设置</span></span>
<span class="line"><span style="color:#6F42C1;">hscan</span><span style="color:#24292E;"> </span><span style="color:#032F62;">k1</span><span style="color:#24292E;"> </span><span style="color:#032F62;">cursor</span><span style="color:#24292E;"> [MATCH </span><span style="color:#032F62;">pattern]</span><span style="color:#24292E;"> [COUNT </span><span style="color:#032F62;">count]</span><span style="color:#24292E;"> </span><span style="color:#6A737D;"># 模糊查询</span></span>
<span class="line"><span style="color:#6F42C1;">hstrlen</span><span style="color:#24292E;"> </span><span style="color:#032F62;">k1</span><span style="color:#24292E;"> </span><span style="color:#032F62;">f1</span><span style="color:#24292E;"> </span><span style="color:#6A737D;"># 获取某字段的value长度</span></span>
<span class="line"><span style="color:#6F42C1;">hvals</span><span style="color:#24292E;"> </span><span style="color:#032F62;">k1</span><span style="color:#24292E;"> </span><span style="color:#6A737D;"># 获取所有的value</span></span></code></pre><div class="line-numbers-wrapper" aria-hidden="true"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br><span class="line-number">8</span><br><span class="line-number">9</span><br><span class="line-number">10</span><br><span class="line-number">11</span><br><span class="line-number">12</span><br><span class="line-number">13</span><br><span class="line-number">14</span><br><span class="line-number">15</span><br><span class="line-number">16</span><br><span class="line-number">17</span><br><span class="line-number">18</span><br><span class="line-number">19</span><br><span class="line-number">20</span><br></div></div><h3 id="set" tabindex="-1">Set <a class="header-anchor" href="#set" aria-label="Permalink to &quot;Set&quot;">​</a></h3><div class="language-shell vp-adaptive-theme line-numbers-mode"><button title="Copy Code" class="copy"></button><span class="lang">shell</span><pre class="shiki github-dark has-diff vp-code-dark"><code><span class="line"><span style="color:#B392F0;">sadd</span><span style="color:#E1E4E8;"> </span><span style="color:#9ECBFF;">k1</span><span style="color:#E1E4E8;"> </span><span style="color:#9ECBFF;">v1</span><span style="color:#E1E4E8;"> </span><span style="color:#9ECBFF;">v2</span><span style="color:#E1E4E8;"> </span><span style="color:#9ECBFF;">v3</span><span style="color:#E1E4E8;"> </span><span style="color:#6A737D;"># 添加元素</span></span>
<span class="line"><span style="color:#B392F0;">scard</span><span style="color:#E1E4E8;"> </span><span style="color:#9ECBFF;">k1</span><span style="color:#E1E4E8;"> </span><span style="color:#6A737D;"># 获取列表长度</span></span>
<span class="line"><span style="color:#B392F0;">sdiff</span><span style="color:#E1E4E8;"> </span><span style="color:#9ECBFF;">k1</span><span style="color:#E1E4E8;"> </span><span style="color:#9ECBFF;">k2</span><span style="color:#E1E4E8;"> </span><span style="color:#6A737D;"># 获取差集(k1中有，k2中没有)</span></span>
<span class="line"><span style="color:#B392F0;">sdiffstore</span><span style="color:#E1E4E8;"> </span><span style="color:#9ECBFF;">newSet</span><span style="color:#E1E4E8;"> </span><span style="color:#9ECBFF;">k2</span><span style="color:#E1E4E8;"> </span><span style="color:#9ECBFF;">k3</span><span style="color:#E1E4E8;"> </span><span style="color:#6A737D;"># 获取差集(k1中有，k2中没有)，并存储到newSet中</span></span>
<span class="line"><span style="color:#B392F0;">sinter</span><span style="color:#E1E4E8;"> </span><span style="color:#9ECBFF;">k1</span><span style="color:#E1E4E8;"> </span><span style="color:#9ECBFF;">k2</span><span style="color:#E1E4E8;"> </span><span style="color:#6A737D;"># 获取交集(k1和k2都有，如果其中一个不存在键，则返回空)</span></span>
<span class="line"><span style="color:#B392F0;">sintercard</span><span style="color:#E1E4E8;"> </span><span style="color:#9ECBFF;">numkeys</span><span style="color:#E1E4E8;"> </span><span style="color:#9ECBFF;">k1</span><span style="color:#E1E4E8;"> [key....] [limit count] </span><span style="color:#6A737D;">#获取交集的数量，并且可截取</span></span>
<span class="line"><span style="color:#B392F0;">sinterstore</span><span style="color:#E1E4E8;"> </span><span style="color:#9ECBFF;">newSet</span><span style="color:#E1E4E8;"> </span><span style="color:#9ECBFF;">k1</span><span style="color:#E1E4E8;"> </span><span style="color:#9ECBFF;">k2</span><span style="color:#E1E4E8;"> </span><span style="color:#6A737D;"># 获取交集(k1和k2都有，如果其中一个不存在键，则返回空)，并存储到newSet中</span></span>
<span class="line"><span style="color:#B392F0;">sismember</span><span style="color:#E1E4E8;"> </span><span style="color:#9ECBFF;">k1</span><span style="color:#E1E4E8;"> </span><span style="color:#9ECBFF;">v1</span><span style="color:#E1E4E8;"> </span><span style="color:#6A737D;"># 判断元素是否存在</span></span>
<span class="line"><span style="color:#B392F0;">smismember</span><span style="color:#E1E4E8;"> </span><span style="color:#9ECBFF;">k1</span><span style="color:#E1E4E8;"> </span><span style="color:#9ECBFF;">v1</span><span style="color:#E1E4E8;"> </span><span style="color:#9ECBFF;">v2</span><span style="color:#E1E4E8;"> </span><span style="color:#6A737D;"># 判断多个元素是否存在</span></span>
<span class="line"><span style="color:#B392F0;">smembers</span><span style="color:#E1E4E8;"> </span><span style="color:#9ECBFF;">k1</span><span style="color:#E1E4E8;"> </span><span style="color:#6A737D;"># 获取所有元素的列表</span></span>
<span class="line"><span style="color:#B392F0;">smove</span><span style="color:#E1E4E8;"> </span><span style="color:#9ECBFF;">source</span><span style="color:#E1E4E8;"> </span><span style="color:#9ECBFF;">destination</span><span style="color:#E1E4E8;"> </span><span style="color:#9ECBFF;">member</span><span style="color:#E1E4E8;"> </span><span style="color:#6A737D;"># 将源集合中的元素移动到目标集合中</span></span>
<span class="line"><span style="color:#B392F0;">spop</span><span style="color:#E1E4E8;"> </span><span style="color:#9ECBFF;">k1</span><span style="color:#E1E4E8;"> [count] </span><span style="color:#6A737D;"># 随机弹出元素</span></span>
<span class="line"><span style="color:#B392F0;">srandmember</span><span style="color:#E1E4E8;"> </span><span style="color:#9ECBFF;">k1</span><span style="color:#E1E4E8;"> [count] </span><span style="color:#6A737D;"># 随机获取元素</span></span>
<span class="line"><span style="color:#B392F0;">srem</span><span style="color:#E1E4E8;"> </span><span style="color:#9ECBFF;">k1</span><span style="color:#E1E4E8;"> </span><span style="color:#9ECBFF;">member</span><span style="color:#E1E4E8;"> [member...] </span><span style="color:#6A737D;"># 删除元素</span></span>
<span class="line"><span style="color:#B392F0;">sunion</span><span style="color:#E1E4E8;"> </span><span style="color:#9ECBFF;">k1</span><span style="color:#E1E4E8;"> </span><span style="color:#9ECBFF;">k2</span><span style="color:#E1E4E8;"> </span><span style="color:#6A737D;"># 获取并集</span></span>
<span class="line"><span style="color:#B392F0;">sunionstore</span><span style="color:#E1E4E8;"> </span><span style="color:#9ECBFF;">newSet</span><span style="color:#E1E4E8;"> </span><span style="color:#9ECBFF;">k1</span><span style="color:#E1E4E8;"> </span><span style="color:#9ECBFF;">k2</span><span style="color:#E1E4E8;"> </span><span style="color:#6A737D;"># 获取并集，并存储到newSet中</span></span></code></pre><pre class="shiki github-light has-diff vp-code-light"><code><span class="line"><span style="color:#6F42C1;">sadd</span><span style="color:#24292E;"> </span><span style="color:#032F62;">k1</span><span style="color:#24292E;"> </span><span style="color:#032F62;">v1</span><span style="color:#24292E;"> </span><span style="color:#032F62;">v2</span><span style="color:#24292E;"> </span><span style="color:#032F62;">v3</span><span style="color:#24292E;"> </span><span style="color:#6A737D;"># 添加元素</span></span>
<span class="line"><span style="color:#6F42C1;">scard</span><span style="color:#24292E;"> </span><span style="color:#032F62;">k1</span><span style="color:#24292E;"> </span><span style="color:#6A737D;"># 获取列表长度</span></span>
<span class="line"><span style="color:#6F42C1;">sdiff</span><span style="color:#24292E;"> </span><span style="color:#032F62;">k1</span><span style="color:#24292E;"> </span><span style="color:#032F62;">k2</span><span style="color:#24292E;"> </span><span style="color:#6A737D;"># 获取差集(k1中有，k2中没有)</span></span>
<span class="line"><span style="color:#6F42C1;">sdiffstore</span><span style="color:#24292E;"> </span><span style="color:#032F62;">newSet</span><span style="color:#24292E;"> </span><span style="color:#032F62;">k2</span><span style="color:#24292E;"> </span><span style="color:#032F62;">k3</span><span style="color:#24292E;"> </span><span style="color:#6A737D;"># 获取差集(k1中有，k2中没有)，并存储到newSet中</span></span>
<span class="line"><span style="color:#6F42C1;">sinter</span><span style="color:#24292E;"> </span><span style="color:#032F62;">k1</span><span style="color:#24292E;"> </span><span style="color:#032F62;">k2</span><span style="color:#24292E;"> </span><span style="color:#6A737D;"># 获取交集(k1和k2都有，如果其中一个不存在键，则返回空)</span></span>
<span class="line"><span style="color:#6F42C1;">sintercard</span><span style="color:#24292E;"> </span><span style="color:#032F62;">numkeys</span><span style="color:#24292E;"> </span><span style="color:#032F62;">k1</span><span style="color:#24292E;"> [key....] [limit count] </span><span style="color:#6A737D;">#获取交集的数量，并且可截取</span></span>
<span class="line"><span style="color:#6F42C1;">sinterstore</span><span style="color:#24292E;"> </span><span style="color:#032F62;">newSet</span><span style="color:#24292E;"> </span><span style="color:#032F62;">k1</span><span style="color:#24292E;"> </span><span style="color:#032F62;">k2</span><span style="color:#24292E;"> </span><span style="color:#6A737D;"># 获取交集(k1和k2都有，如果其中一个不存在键，则返回空)，并存储到newSet中</span></span>
<span class="line"><span style="color:#6F42C1;">sismember</span><span style="color:#24292E;"> </span><span style="color:#032F62;">k1</span><span style="color:#24292E;"> </span><span style="color:#032F62;">v1</span><span style="color:#24292E;"> </span><span style="color:#6A737D;"># 判断元素是否存在</span></span>
<span class="line"><span style="color:#6F42C1;">smismember</span><span style="color:#24292E;"> </span><span style="color:#032F62;">k1</span><span style="color:#24292E;"> </span><span style="color:#032F62;">v1</span><span style="color:#24292E;"> </span><span style="color:#032F62;">v2</span><span style="color:#24292E;"> </span><span style="color:#6A737D;"># 判断多个元素是否存在</span></span>
<span class="line"><span style="color:#6F42C1;">smembers</span><span style="color:#24292E;"> </span><span style="color:#032F62;">k1</span><span style="color:#24292E;"> </span><span style="color:#6A737D;"># 获取所有元素的列表</span></span>
<span class="line"><span style="color:#6F42C1;">smove</span><span style="color:#24292E;"> </span><span style="color:#032F62;">source</span><span style="color:#24292E;"> </span><span style="color:#032F62;">destination</span><span style="color:#24292E;"> </span><span style="color:#032F62;">member</span><span style="color:#24292E;"> </span><span style="color:#6A737D;"># 将源集合中的元素移动到目标集合中</span></span>
<span class="line"><span style="color:#6F42C1;">spop</span><span style="color:#24292E;"> </span><span style="color:#032F62;">k1</span><span style="color:#24292E;"> [count] </span><span style="color:#6A737D;"># 随机弹出元素</span></span>
<span class="line"><span style="color:#6F42C1;">srandmember</span><span style="color:#24292E;"> </span><span style="color:#032F62;">k1</span><span style="color:#24292E;"> [count] </span><span style="color:#6A737D;"># 随机获取元素</span></span>
<span class="line"><span style="color:#6F42C1;">srem</span><span style="color:#24292E;"> </span><span style="color:#032F62;">k1</span><span style="color:#24292E;"> </span><span style="color:#032F62;">member</span><span style="color:#24292E;"> [member...] </span><span style="color:#6A737D;"># 删除元素</span></span>
<span class="line"><span style="color:#6F42C1;">sunion</span><span style="color:#24292E;"> </span><span style="color:#032F62;">k1</span><span style="color:#24292E;"> </span><span style="color:#032F62;">k2</span><span style="color:#24292E;"> </span><span style="color:#6A737D;"># 获取并集</span></span>
<span class="line"><span style="color:#6F42C1;">sunionstore</span><span style="color:#24292E;"> </span><span style="color:#032F62;">newSet</span><span style="color:#24292E;"> </span><span style="color:#032F62;">k1</span><span style="color:#24292E;"> </span><span style="color:#032F62;">k2</span><span style="color:#24292E;"> </span><span style="color:#6A737D;"># 获取并集，并存储到newSet中</span></span></code></pre><div class="line-numbers-wrapper" aria-hidden="true"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br><span class="line-number">8</span><br><span class="line-number">9</span><br><span class="line-number">10</span><br><span class="line-number">11</span><br><span class="line-number">12</span><br><span class="line-number">13</span><br><span class="line-number">14</span><br><span class="line-number">15</span><br><span class="line-number">16</span><br></div></div><h3 id="sorted-set" tabindex="-1">Sorted Set <a class="header-anchor" href="#sorted-set" aria-label="Permalink to &quot;Sorted Set&quot;">​</a></h3><div class="language-shell vp-adaptive-theme line-numbers-mode"><button title="Copy Code" class="copy"></button><span class="lang">shell</span><pre class="shiki github-dark has-diff vp-code-dark"><code><span class="line"><span style="color:#B392F0;">zcard</span><span style="color:#E1E4E8;"> </span><span style="color:#9ECBFF;">key</span><span style="color:#E1E4E8;"> </span><span style="color:#6A737D;"># 获取长度</span></span>
<span class="line"><span style="color:#B392F0;">zcount</span><span style="color:#E1E4E8;"> </span><span style="color:#9ECBFF;">key</span><span style="color:#E1E4E8;"> </span><span style="color:#9ECBFF;">min</span><span style="color:#E1E4E8;"> </span><span style="color:#9ECBFF;">max</span><span style="color:#E1E4E8;"> </span><span style="color:#6A737D;"># 获取指定范围的元素数量</span></span>
<span class="line"><span style="color:#B392F0;">zdiff</span><span style="color:#E1E4E8;"> </span><span style="color:#9ECBFF;">numkeys</span><span style="color:#E1E4E8;"> </span><span style="color:#9ECBFF;">key</span><span style="color:#E1E4E8;"> [key...] [WITHSCORES] </span><span style="color:#6A737D;"># 获取差集</span></span>
<span class="line"><span style="color:#B392F0;">zdiffstore</span><span style="color:#E1E4E8;"> </span><span style="color:#9ECBFF;">destination</span><span style="color:#E1E4E8;"> </span><span style="color:#9ECBFF;">numkeys</span><span style="color:#E1E4E8;"> </span><span style="color:#9ECBFF;">key</span><span style="color:#E1E4E8;"> [key...]  </span><span style="color:#6A737D;"># 获取差集，并存储到destination中</span></span>
<span class="line"><span style="color:#B392F0;">zincrby</span><span style="color:#E1E4E8;"> </span><span style="color:#9ECBFF;">key</span><span style="color:#E1E4E8;"> </span><span style="color:#9ECBFF;">increment</span><span style="color:#E1E4E8;"> </span><span style="color:#9ECBFF;">member</span><span style="color:#E1E4E8;"> </span><span style="color:#6A737D;"># 自增（可为负值递减)</span></span>
<span class="line"><span style="color:#B392F0;">zinter</span><span style="color:#E1E4E8;"> </span><span style="color:#9ECBFF;">numkeys</span><span style="color:#E1E4E8;"> </span><span style="color:#9ECBFF;">key</span><span style="color:#E1E4E8;"> [key...] [WEIGHTS weight [weight...]] [AGGREGATE SUM</span><span style="color:#F97583;">|</span><span style="color:#E1E4E8;">MIN</span><span style="color:#F97583;">|</span><span style="color:#E1E4E8;">MAX] </span><span style="color:#6A737D;"># 获取交集</span></span>
<span class="line"><span style="color:#B392F0;">zintercard</span><span style="color:#E1E4E8;"> </span><span style="color:#9ECBFF;">numkeys</span><span style="color:#E1E4E8;"> </span><span style="color:#9ECBFF;">key</span><span style="color:#E1E4E8;"> [key...] [limit Limit] </span><span style="color:#6A737D;"># 获取交集的数量，并且可截取</span></span>
<span class="line"><span style="color:#B392F0;">zinterstore</span><span style="color:#E1E4E8;"> </span><span style="color:#9ECBFF;">destination</span><span style="color:#E1E4E8;"> </span><span style="color:#9ECBFF;">numkeys</span><span style="color:#E1E4E8;"> </span><span style="color:#9ECBFF;">key</span><span style="color:#E1E4E8;"> [key...] [WEIGHTS weight [weight...]] [AGGREGATE SUM</span><span style="color:#F97583;">|</span><span style="color:#E1E4E8;">MIN</span><span style="color:#F97583;">|</span><span style="color:#E1E4E8;">MAX] </span><span style="color:#6A737D;"># 获取交集，并存储到destination中</span></span>
<span class="line"><span style="color:#B392F0;">zlexcount</span><span style="color:#E1E4E8;"> </span><span style="color:#9ECBFF;">key</span><span style="color:#E1E4E8;"> </span><span style="color:#9ECBFF;">min</span><span style="color:#E1E4E8;"> </span><span style="color:#9ECBFF;">max</span><span style="color:#E1E4E8;"> </span><span style="color:#6A737D;"># 获取指定范围的元素数量 - +</span></span>
<span class="line"><span style="color:#B392F0;">zmpop</span><span style="color:#E1E4E8;"> </span><span style="color:#9ECBFF;">key</span><span style="color:#E1E4E8;"> [key...] </span><span style="color:#F97583;">&lt;</span><span style="color:#E1E4E8;">min </span><span style="color:#F97583;">|</span><span style="color:#E1E4E8;"> </span><span style="color:#B392F0;">max&gt;</span><span style="color:#E1E4E8;"> [count] </span><span style="color:#6A737D;"># 弹出指定数量的元素 min: 从小到大 max: 从大到小</span></span>
<span class="line"><span style="color:#B392F0;">zmscore</span><span style="color:#E1E4E8;"> </span><span style="color:#9ECBFF;">key</span><span style="color:#E1E4E8;"> </span><span style="color:#9ECBFF;">member</span><span style="color:#E1E4E8;"> [member...] </span><span style="color:#6A737D;"># 获取指定元素的分数</span></span>
<span class="line"><span style="color:#B392F0;">zpopmax</span><span style="color:#E1E4E8;"> </span><span style="color:#9ECBFF;">key</span><span style="color:#E1E4E8;"> [count] </span><span style="color:#6A737D;"># 弹出指定数量的元素，从大到小</span></span>
<span class="line"><span style="color:#B392F0;">zpopmin</span><span style="color:#E1E4E8;"> </span><span style="color:#9ECBFF;">key</span><span style="color:#E1E4E8;"> [count] </span><span style="color:#6A737D;"># 弹出指定数量的元素，从小到大</span></span>
<span class="line"><span style="color:#B392F0;">zrandmember</span><span style="color:#E1E4E8;"> </span><span style="color:#9ECBFF;">key</span><span style="color:#E1E4E8;"> [count] </span><span style="color:#6A737D;"># 随机获取指定数量的元素</span></span>
<span class="line"><span style="color:#B392F0;">ZRANGE</span><span style="color:#E1E4E8;"> </span><span style="color:#9ECBFF;">key</span><span style="color:#E1E4E8;"> </span><span style="color:#9ECBFF;">start</span><span style="color:#E1E4E8;"> </span><span style="color:#9ECBFF;">stop</span><span style="color:#E1E4E8;"> [BYSCORE </span><span style="color:#F97583;">|</span><span style="color:#E1E4E8;"> </span><span style="color:#B392F0;">BYLEX]</span><span style="color:#E1E4E8;"> [REV] [LIMIT offset count]</span></span>
<span class="line"><span style="color:#E1E4E8;">  [WITHSCORES]</span></span>
<span class="line"><span style="color:#6A737D;"># 获取指定范围的元素</span></span>
<span class="line"><span style="color:#B392F0;">zrangebylex</span><span style="color:#E1E4E8;"> </span><span style="color:#9ECBFF;">key</span><span style="color:#E1E4E8;"> </span><span style="color:#9ECBFF;">min</span><span style="color:#E1E4E8;"> </span><span style="color:#9ECBFF;">max</span><span style="color:#E1E4E8;"> [LIMIT </span><span style="color:#9ECBFF;">offset</span><span style="color:#E1E4E8;"> </span><span style="color:#9ECBFF;">count]</span></span>
<span class="line"><span style="color:#6A737D;"># 获取指定范围的元素 - +</span></span>
<span class="line"><span style="color:#B392F0;">zrangebyscore</span><span style="color:#E1E4E8;"> </span><span style="color:#9ECBFF;">key</span><span style="color:#E1E4E8;"> </span><span style="color:#9ECBFF;">min</span><span style="color:#E1E4E8;"> </span><span style="color:#9ECBFF;">max</span><span style="color:#E1E4E8;"> [WITHSCORES] [LIMIT offset count] </span><span style="color:#6A737D;"># 获取指定范围的元素</span></span>
<span class="line"><span style="color:#B392F0;">zrank</span><span style="color:#E1E4E8;"> </span><span style="color:#9ECBFF;">key</span><span style="color:#E1E4E8;"> </span><span style="color:#9ECBFF;">member</span><span style="color:#E1E4E8;"> </span><span style="color:#6A737D;"># 获取指定元素的排名索引</span></span>
<span class="line"><span style="color:#B392F0;">zrem</span><span style="color:#E1E4E8;"> </span><span style="color:#9ECBFF;">key</span><span style="color:#E1E4E8;"> </span><span style="color:#9ECBFF;">member</span><span style="color:#E1E4E8;"> [member...] </span><span style="color:#6A737D;"># 删除指定元素</span></span>
<span class="line"><span style="color:#B392F0;">zremscore</span><span style="color:#E1E4E8;"> </span><span style="color:#9ECBFF;">key</span><span style="color:#E1E4E8;"> </span><span style="color:#9ECBFF;">min</span><span style="color:#E1E4E8;"> </span><span style="color:#9ECBFF;">max</span><span style="color:#E1E4E8;"> </span><span style="color:#6A737D;"># 删除指定范围的元素</span></span></code></pre><pre class="shiki github-light has-diff vp-code-light"><code><span class="line"><span style="color:#6F42C1;">zcard</span><span style="color:#24292E;"> </span><span style="color:#032F62;">key</span><span style="color:#24292E;"> </span><span style="color:#6A737D;"># 获取长度</span></span>
<span class="line"><span style="color:#6F42C1;">zcount</span><span style="color:#24292E;"> </span><span style="color:#032F62;">key</span><span style="color:#24292E;"> </span><span style="color:#032F62;">min</span><span style="color:#24292E;"> </span><span style="color:#032F62;">max</span><span style="color:#24292E;"> </span><span style="color:#6A737D;"># 获取指定范围的元素数量</span></span>
<span class="line"><span style="color:#6F42C1;">zdiff</span><span style="color:#24292E;"> </span><span style="color:#032F62;">numkeys</span><span style="color:#24292E;"> </span><span style="color:#032F62;">key</span><span style="color:#24292E;"> [key...] [WITHSCORES] </span><span style="color:#6A737D;"># 获取差集</span></span>
<span class="line"><span style="color:#6F42C1;">zdiffstore</span><span style="color:#24292E;"> </span><span style="color:#032F62;">destination</span><span style="color:#24292E;"> </span><span style="color:#032F62;">numkeys</span><span style="color:#24292E;"> </span><span style="color:#032F62;">key</span><span style="color:#24292E;"> [key...]  </span><span style="color:#6A737D;"># 获取差集，并存储到destination中</span></span>
<span class="line"><span style="color:#6F42C1;">zincrby</span><span style="color:#24292E;"> </span><span style="color:#032F62;">key</span><span style="color:#24292E;"> </span><span style="color:#032F62;">increment</span><span style="color:#24292E;"> </span><span style="color:#032F62;">member</span><span style="color:#24292E;"> </span><span style="color:#6A737D;"># 自增（可为负值递减)</span></span>
<span class="line"><span style="color:#6F42C1;">zinter</span><span style="color:#24292E;"> </span><span style="color:#032F62;">numkeys</span><span style="color:#24292E;"> </span><span style="color:#032F62;">key</span><span style="color:#24292E;"> [key...] [WEIGHTS weight [weight...]] [AGGREGATE SUM</span><span style="color:#D73A49;">|</span><span style="color:#24292E;">MIN</span><span style="color:#D73A49;">|</span><span style="color:#24292E;">MAX] </span><span style="color:#6A737D;"># 获取交集</span></span>
<span class="line"><span style="color:#6F42C1;">zintercard</span><span style="color:#24292E;"> </span><span style="color:#032F62;">numkeys</span><span style="color:#24292E;"> </span><span style="color:#032F62;">key</span><span style="color:#24292E;"> [key...] [limit Limit] </span><span style="color:#6A737D;"># 获取交集的数量，并且可截取</span></span>
<span class="line"><span style="color:#6F42C1;">zinterstore</span><span style="color:#24292E;"> </span><span style="color:#032F62;">destination</span><span style="color:#24292E;"> </span><span style="color:#032F62;">numkeys</span><span style="color:#24292E;"> </span><span style="color:#032F62;">key</span><span style="color:#24292E;"> [key...] [WEIGHTS weight [weight...]] [AGGREGATE SUM</span><span style="color:#D73A49;">|</span><span style="color:#24292E;">MIN</span><span style="color:#D73A49;">|</span><span style="color:#24292E;">MAX] </span><span style="color:#6A737D;"># 获取交集，并存储到destination中</span></span>
<span class="line"><span style="color:#6F42C1;">zlexcount</span><span style="color:#24292E;"> </span><span style="color:#032F62;">key</span><span style="color:#24292E;"> </span><span style="color:#032F62;">min</span><span style="color:#24292E;"> </span><span style="color:#032F62;">max</span><span style="color:#24292E;"> </span><span style="color:#6A737D;"># 获取指定范围的元素数量 - +</span></span>
<span class="line"><span style="color:#6F42C1;">zmpop</span><span style="color:#24292E;"> </span><span style="color:#032F62;">key</span><span style="color:#24292E;"> [key...] </span><span style="color:#D73A49;">&lt;</span><span style="color:#24292E;">min </span><span style="color:#D73A49;">|</span><span style="color:#24292E;"> </span><span style="color:#6F42C1;">max&gt;</span><span style="color:#24292E;"> [count] </span><span style="color:#6A737D;"># 弹出指定数量的元素 min: 从小到大 max: 从大到小</span></span>
<span class="line"><span style="color:#6F42C1;">zmscore</span><span style="color:#24292E;"> </span><span style="color:#032F62;">key</span><span style="color:#24292E;"> </span><span style="color:#032F62;">member</span><span style="color:#24292E;"> [member...] </span><span style="color:#6A737D;"># 获取指定元素的分数</span></span>
<span class="line"><span style="color:#6F42C1;">zpopmax</span><span style="color:#24292E;"> </span><span style="color:#032F62;">key</span><span style="color:#24292E;"> [count] </span><span style="color:#6A737D;"># 弹出指定数量的元素，从大到小</span></span>
<span class="line"><span style="color:#6F42C1;">zpopmin</span><span style="color:#24292E;"> </span><span style="color:#032F62;">key</span><span style="color:#24292E;"> [count] </span><span style="color:#6A737D;"># 弹出指定数量的元素，从小到大</span></span>
<span class="line"><span style="color:#6F42C1;">zrandmember</span><span style="color:#24292E;"> </span><span style="color:#032F62;">key</span><span style="color:#24292E;"> [count] </span><span style="color:#6A737D;"># 随机获取指定数量的元素</span></span>
<span class="line"><span style="color:#6F42C1;">ZRANGE</span><span style="color:#24292E;"> </span><span style="color:#032F62;">key</span><span style="color:#24292E;"> </span><span style="color:#032F62;">start</span><span style="color:#24292E;"> </span><span style="color:#032F62;">stop</span><span style="color:#24292E;"> [BYSCORE </span><span style="color:#D73A49;">|</span><span style="color:#24292E;"> </span><span style="color:#6F42C1;">BYLEX]</span><span style="color:#24292E;"> [REV] [LIMIT offset count]</span></span>
<span class="line"><span style="color:#24292E;">  [WITHSCORES]</span></span>
<span class="line"><span style="color:#6A737D;"># 获取指定范围的元素</span></span>
<span class="line"><span style="color:#6F42C1;">zrangebylex</span><span style="color:#24292E;"> </span><span style="color:#032F62;">key</span><span style="color:#24292E;"> </span><span style="color:#032F62;">min</span><span style="color:#24292E;"> </span><span style="color:#032F62;">max</span><span style="color:#24292E;"> [LIMIT </span><span style="color:#032F62;">offset</span><span style="color:#24292E;"> </span><span style="color:#032F62;">count]</span></span>
<span class="line"><span style="color:#6A737D;"># 获取指定范围的元素 - +</span></span>
<span class="line"><span style="color:#6F42C1;">zrangebyscore</span><span style="color:#24292E;"> </span><span style="color:#032F62;">key</span><span style="color:#24292E;"> </span><span style="color:#032F62;">min</span><span style="color:#24292E;"> </span><span style="color:#032F62;">max</span><span style="color:#24292E;"> [WITHSCORES] [LIMIT offset count] </span><span style="color:#6A737D;"># 获取指定范围的元素</span></span>
<span class="line"><span style="color:#6F42C1;">zrank</span><span style="color:#24292E;"> </span><span style="color:#032F62;">key</span><span style="color:#24292E;"> </span><span style="color:#032F62;">member</span><span style="color:#24292E;"> </span><span style="color:#6A737D;"># 获取指定元素的排名索引</span></span>
<span class="line"><span style="color:#6F42C1;">zrem</span><span style="color:#24292E;"> </span><span style="color:#032F62;">key</span><span style="color:#24292E;"> </span><span style="color:#032F62;">member</span><span style="color:#24292E;"> [member...] </span><span style="color:#6A737D;"># 删除指定元素</span></span>
<span class="line"><span style="color:#6F42C1;">zremscore</span><span style="color:#24292E;"> </span><span style="color:#032F62;">key</span><span style="color:#24292E;"> </span><span style="color:#032F62;">min</span><span style="color:#24292E;"> </span><span style="color:#032F62;">max</span><span style="color:#24292E;"> </span><span style="color:#6A737D;"># 删除指定范围的元素</span></span></code></pre><div class="line-numbers-wrapper" aria-hidden="true"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br><span class="line-number">8</span><br><span class="line-number">9</span><br><span class="line-number">10</span><br><span class="line-number">11</span><br><span class="line-number">12</span><br><span class="line-number">13</span><br><span class="line-number">14</span><br><span class="line-number">15</span><br><span class="line-number">16</span><br><span class="line-number">17</span><br><span class="line-number">18</span><br><span class="line-number">19</span><br><span class="line-number">20</span><br><span class="line-number">21</span><br><span class="line-number">22</span><br><span class="line-number">23</span><br></div></div><h3 id="bitmap" tabindex="-1">Bitmap <a class="header-anchor" href="#bitmap" aria-label="Permalink to &quot;Bitmap&quot;">​</a></h3><p>位图不是实际的数据类型，而是在 String 类型上定义的一组面向位的操作，该类型被视为位向量。由于字符串是二进制安全 blob，其最大长度为 512 MB，因此它们适合设置多达 2^32 个不同的位。</p><div class="language-shell vp-adaptive-theme line-numbers-mode"><button title="Copy Code" class="copy"></button><span class="lang">shell</span><pre class="shiki github-dark vp-code-dark"><code><span class="line"><span style="color:#B392F0;">setbit</span><span style="color:#E1E4E8;"> </span><span style="color:#9ECBFF;">key</span><span style="color:#E1E4E8;"> </span><span style="color:#9ECBFF;">offset</span><span style="color:#E1E4E8;"> </span><span style="color:#9ECBFF;">value</span><span style="color:#E1E4E8;"> </span><span style="color:#6A737D;"># 设置指定偏移量的值</span></span>
<span class="line"><span style="color:#B392F0;">getbit</span><span style="color:#E1E4E8;"> </span><span style="color:#9ECBFF;">key</span><span style="color:#E1E4E8;"> </span><span style="color:#9ECBFF;">offset</span><span style="color:#E1E4E8;"> </span><span style="color:#6A737D;"># 获取指定偏移量的位值</span></span>
<span class="line"><span style="color:#B392F0;">bitpos</span><span style="color:#E1E4E8;"> </span><span style="color:#9ECBFF;">key</span><span style="color:#E1E4E8;"> </span><span style="color:#9ECBFF;">bit</span><span style="color:#E1E4E8;"> [start] [end] </span><span style="color:#6A737D;"># 获取指定范围的第一个位值</span></span>
<span class="line"><span style="color:#B392F0;">BITCOUNT</span><span style="color:#E1E4E8;"> </span><span style="color:#9ECBFF;">key</span><span style="color:#E1E4E8;"> [start </span><span style="color:#9ECBFF;">end</span><span style="color:#E1E4E8;"> [BYTE </span><span style="color:#F97583;">|</span><span style="color:#E1E4E8;"> </span><span style="color:#B392F0;">BIT]]</span><span style="color:#E1E4E8;"> </span><span style="color:#6A737D;"># 获取指定范围的位值为1的数量</span></span>
<span class="line"><span style="color:#B392F0;">strlen</span><span style="color:#E1E4E8;"> </span><span style="color:#9ECBFF;">key</span><span style="color:#E1E4E8;"> </span><span style="color:#6A737D;"># 统计字符串长度</span></span>
<span class="line"><span style="color:#B392F0;">BITOP</span><span style="color:#E1E4E8;"> </span><span style="color:#F97583;">&lt;</span><span style="color:#9ECBFF;">AND</span><span style="color:#E1E4E8;"> </span><span style="color:#F97583;">|</span><span style="color:#E1E4E8;"> </span><span style="color:#B392F0;">OR</span><span style="color:#E1E4E8;"> </span><span style="color:#F97583;">|</span><span style="color:#E1E4E8;"> </span><span style="color:#B392F0;">XOR</span><span style="color:#E1E4E8;"> </span><span style="color:#F97583;">|</span><span style="color:#E1E4E8;"> </span><span style="color:#B392F0;">NOT&gt;</span><span style="color:#E1E4E8;"> </span><span style="color:#9ECBFF;">destkey</span><span style="color:#E1E4E8;"> </span><span style="color:#9ECBFF;">key</span><span style="color:#E1E4E8;"> [key </span><span style="color:#9ECBFF;">...]</span><span style="color:#E1E4E8;"> </span><span style="color:#6A737D;"># 位运算</span></span>
<span class="line"><span style="color:#6A737D;">#在多个键（包含字符串值）之间执行按位运算，并将结果存储在目标键中</span></span></code></pre><pre class="shiki github-light vp-code-light"><code><span class="line"><span style="color:#6F42C1;">setbit</span><span style="color:#24292E;"> </span><span style="color:#032F62;">key</span><span style="color:#24292E;"> </span><span style="color:#032F62;">offset</span><span style="color:#24292E;"> </span><span style="color:#032F62;">value</span><span style="color:#24292E;"> </span><span style="color:#6A737D;"># 设置指定偏移量的值</span></span>
<span class="line"><span style="color:#6F42C1;">getbit</span><span style="color:#24292E;"> </span><span style="color:#032F62;">key</span><span style="color:#24292E;"> </span><span style="color:#032F62;">offset</span><span style="color:#24292E;"> </span><span style="color:#6A737D;"># 获取指定偏移量的位值</span></span>
<span class="line"><span style="color:#6F42C1;">bitpos</span><span style="color:#24292E;"> </span><span style="color:#032F62;">key</span><span style="color:#24292E;"> </span><span style="color:#032F62;">bit</span><span style="color:#24292E;"> [start] [end] </span><span style="color:#6A737D;"># 获取指定范围的第一个位值</span></span>
<span class="line"><span style="color:#6F42C1;">BITCOUNT</span><span style="color:#24292E;"> </span><span style="color:#032F62;">key</span><span style="color:#24292E;"> [start </span><span style="color:#032F62;">end</span><span style="color:#24292E;"> [BYTE </span><span style="color:#D73A49;">|</span><span style="color:#24292E;"> </span><span style="color:#6F42C1;">BIT]]</span><span style="color:#24292E;"> </span><span style="color:#6A737D;"># 获取指定范围的位值为1的数量</span></span>
<span class="line"><span style="color:#6F42C1;">strlen</span><span style="color:#24292E;"> </span><span style="color:#032F62;">key</span><span style="color:#24292E;"> </span><span style="color:#6A737D;"># 统计字符串长度</span></span>
<span class="line"><span style="color:#6F42C1;">BITOP</span><span style="color:#24292E;"> </span><span style="color:#D73A49;">&lt;</span><span style="color:#032F62;">AND</span><span style="color:#24292E;"> </span><span style="color:#D73A49;">|</span><span style="color:#24292E;"> </span><span style="color:#6F42C1;">OR</span><span style="color:#24292E;"> </span><span style="color:#D73A49;">|</span><span style="color:#24292E;"> </span><span style="color:#6F42C1;">XOR</span><span style="color:#24292E;"> </span><span style="color:#D73A49;">|</span><span style="color:#24292E;"> </span><span style="color:#6F42C1;">NOT&gt;</span><span style="color:#24292E;"> </span><span style="color:#032F62;">destkey</span><span style="color:#24292E;"> </span><span style="color:#032F62;">key</span><span style="color:#24292E;"> [key </span><span style="color:#032F62;">...]</span><span style="color:#24292E;"> </span><span style="color:#6A737D;"># 位运算</span></span>
<span class="line"><span style="color:#6A737D;">#在多个键（包含字符串值）之间执行按位运算，并将结果存储在目标键中</span></span></code></pre><div class="line-numbers-wrapper" aria-hidden="true"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br></div></div><h3 id="hyperloglog" tabindex="-1">HyperLogLog <a class="header-anchor" href="#hyperloglog" aria-label="Permalink to &quot;HyperLogLog&quot;">​</a></h3><p>HyperLogLog 是一种概率性数据结构，用于估计集合中的元素数量。它通过使用固定数量的内存来提供近似的基数计数，而不管添加到集合中的元素数量有多少。</p><div class="language-shell vp-adaptive-theme line-numbers-mode"><button title="Copy Code" class="copy"></button><span class="lang">shell</span><pre class="shiki github-dark vp-code-dark"><code><span class="line"><span style="color:#B392F0;">pfadd</span><span style="color:#E1E4E8;"> </span><span style="color:#9ECBFF;">key</span><span style="color:#E1E4E8;"> </span><span style="color:#9ECBFF;">element</span><span style="color:#E1E4E8;"> [element </span><span style="color:#9ECBFF;">...]</span><span style="color:#E1E4E8;"> </span><span style="color:#6A737D;"># 添加元素</span></span>
<span class="line"><span style="color:#B392F0;">pfcount</span><span style="color:#E1E4E8;"> </span><span style="color:#9ECBFF;">key</span><span style="color:#E1E4E8;"> [key </span><span style="color:#9ECBFF;">...]</span><span style="color:#E1E4E8;"> </span><span style="color:#6A737D;"># 获取元素数量</span></span>
<span class="line"><span style="color:#B392F0;">pfmerge</span><span style="color:#E1E4E8;"> </span><span style="color:#9ECBFF;">destkey</span><span style="color:#E1E4E8;"> </span><span style="color:#9ECBFF;">sourcekey</span><span style="color:#E1E4E8;"> [sourcekey </span><span style="color:#9ECBFF;">...]</span><span style="color:#E1E4E8;"> </span><span style="color:#6A737D;"># 合并元素</span></span></code></pre><pre class="shiki github-light vp-code-light"><code><span class="line"><span style="color:#6F42C1;">pfadd</span><span style="color:#24292E;"> </span><span style="color:#032F62;">key</span><span style="color:#24292E;"> </span><span style="color:#032F62;">element</span><span style="color:#24292E;"> [element </span><span style="color:#032F62;">...]</span><span style="color:#24292E;"> </span><span style="color:#6A737D;"># 添加元素</span></span>
<span class="line"><span style="color:#6F42C1;">pfcount</span><span style="color:#24292E;"> </span><span style="color:#032F62;">key</span><span style="color:#24292E;"> [key </span><span style="color:#032F62;">...]</span><span style="color:#24292E;"> </span><span style="color:#6A737D;"># 获取元素数量</span></span>
<span class="line"><span style="color:#6F42C1;">pfmerge</span><span style="color:#24292E;"> </span><span style="color:#032F62;">destkey</span><span style="color:#24292E;"> </span><span style="color:#032F62;">sourcekey</span><span style="color:#24292E;"> [sourcekey </span><span style="color:#032F62;">...]</span><span style="color:#24292E;"> </span><span style="color:#6A737D;"># 合并元素</span></span></code></pre><div class="line-numbers-wrapper" aria-hidden="true"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br></div></div><p>HyperLogLog： 它是一种用较少的内存来估计唯一元素数量的算法。虽然它在估计上可能会有一些误差，但相对于存储每个唯一元素的集合，HyperLogLog 的内存使用更少。</p><p>集合（Set）： 它存储确切的唯一元素列表，不会有估计误差，但可能在处理大量数据时占用更多内存。</p><p>如果你对准确性要求高，而且内存充足，可以使用集合。如果你可以接受一些估计误差，并且想要更有效地使用内存，可以考虑使用 HyperLogLog。希望这次解释更加清楚了！</p><h3 id="geo" tabindex="-1">GEO <a class="header-anchor" href="#geo" aria-label="Permalink to &quot;GEO&quot;">​</a></h3><p>Redis 地理空间索引允许您存储坐标并对其进行搜索。此数据结构可用于查找给定半径或边界框内的邻近点。</p><div class="language-shell vp-adaptive-theme line-numbers-mode"><button title="Copy Code" class="copy"></button><span class="lang">shell</span><pre class="shiki github-dark vp-code-dark"><code><span class="line"><span style="color:#B392F0;">geoadd</span><span style="color:#E1E4E8;"> </span><span style="color:#9ECBFF;">key</span><span style="color:#E1E4E8;"> </span><span style="color:#9ECBFF;">longitude</span><span style="color:#E1E4E8;"> </span><span style="color:#9ECBFF;">latitude</span><span style="color:#E1E4E8;"> </span><span style="color:#9ECBFF;">member</span><span style="color:#E1E4E8;"> [longitude </span><span style="color:#9ECBFF;">latitude</span><span style="color:#E1E4E8;"> </span><span style="color:#9ECBFF;">member</span><span style="color:#E1E4E8;"> </span><span style="color:#9ECBFF;">...]</span><span style="color:#E1E4E8;"> </span><span style="color:#6A737D;"># 添加地理位置</span></span>
<span class="line"><span style="color:#B392F0;">geopos</span><span style="color:#E1E4E8;"> </span><span style="color:#9ECBFF;">key</span><span style="color:#E1E4E8;"> </span><span style="color:#9ECBFF;">member</span><span style="color:#E1E4E8;"> [member </span><span style="color:#9ECBFF;">...]</span><span style="color:#E1E4E8;"> </span><span style="color:#6A737D;"># 获取地理位置</span></span>
<span class="line"><span style="color:#B392F0;">geodist</span><span style="color:#E1E4E8;"> </span><span style="color:#9ECBFF;">key</span><span style="color:#E1E4E8;"> </span><span style="color:#9ECBFF;">member1</span><span style="color:#E1E4E8;"> </span><span style="color:#9ECBFF;">member2</span><span style="color:#E1E4E8;"> [unit] </span><span style="color:#6A737D;"># 获取两个地理位置的距离</span></span>
<span class="line"><span style="color:#B392F0;">geoencode</span><span style="color:#E1E4E8;"> </span><span style="color:#9ECBFF;">key</span><span style="color:#E1E4E8;"> </span><span style="color:#9ECBFF;">member1</span><span style="color:#E1E4E8;"> [member </span><span style="color:#9ECBFF;">...]</span><span style="color:#E1E4E8;"> </span><span style="color:#6A737D;"># 获取地理位置的编码</span></span>
<span class="line"><span style="color:#B392F0;">geohash</span><span style="color:#E1E4E8;"> </span><span style="color:#9ECBFF;">key</span><span style="color:#E1E4E8;"> </span><span style="color:#9ECBFF;">member1</span><span style="color:#E1E4E8;"> [member </span><span style="color:#9ECBFF;">...]</span><span style="color:#E1E4E8;"> </span><span style="color:#6A737D;"># 获取地理位置的hash值</span></span>
<span class="line"><span style="color:#B392F0;">georadius</span><span style="color:#E1E4E8;"> </span><span style="color:#9ECBFF;">key</span><span style="color:#E1E4E8;"> </span><span style="color:#9ECBFF;">longitude</span><span style="color:#E1E4E8;"> </span><span style="color:#9ECBFF;">latitude</span><span style="color:#E1E4E8;"> </span><span style="color:#9ECBFF;">radius</span><span style="color:#E1E4E8;"> </span><span style="color:#9ECBFF;">m</span><span style="color:#F97583;">|</span><span style="color:#B392F0;">km</span><span style="color:#F97583;">|</span><span style="color:#B392F0;">ft</span><span style="color:#F97583;">|</span><span style="color:#B392F0;">mi</span><span style="color:#E1E4E8;"> [WITHCOORD] [WITHDIST] [WITHHASH] [COUNT count] [ASC</span><span style="color:#F97583;">|</span><span style="color:#E1E4E8;">DESC] [STORE key] [STOREDIST key] </span><span style="color:#6A737D;"># 获取指定范围内的地理位置</span></span>
<span class="line"><span style="color:#B392F0;">georadiusbymember</span><span style="color:#E1E4E8;"> </span><span style="color:#9ECBFF;">key</span><span style="color:#E1E4E8;"> </span><span style="color:#9ECBFF;">member</span><span style="color:#E1E4E8;"> </span><span style="color:#9ECBFF;">radius</span><span style="color:#E1E4E8;"> </span><span style="color:#9ECBFF;">m</span><span style="color:#F97583;">|</span><span style="color:#B392F0;">km</span><span style="color:#F97583;">|</span><span style="color:#B392F0;">ft</span><span style="color:#F97583;">|</span><span style="color:#B392F0;">mi</span><span style="color:#E1E4E8;"> [WITHCOORD] [WITHDIST] [WITHHASH] [COUNT count] [ASC</span><span style="color:#F97583;">|</span><span style="color:#E1E4E8;">DESC] [STORE key] [STOREDIST key] </span><span style="color:#6A737D;"># 获取指定范围内的地理位置</span></span></code></pre><pre class="shiki github-light vp-code-light"><code><span class="line"><span style="color:#6F42C1;">geoadd</span><span style="color:#24292E;"> </span><span style="color:#032F62;">key</span><span style="color:#24292E;"> </span><span style="color:#032F62;">longitude</span><span style="color:#24292E;"> </span><span style="color:#032F62;">latitude</span><span style="color:#24292E;"> </span><span style="color:#032F62;">member</span><span style="color:#24292E;"> [longitude </span><span style="color:#032F62;">latitude</span><span style="color:#24292E;"> </span><span style="color:#032F62;">member</span><span style="color:#24292E;"> </span><span style="color:#032F62;">...]</span><span style="color:#24292E;"> </span><span style="color:#6A737D;"># 添加地理位置</span></span>
<span class="line"><span style="color:#6F42C1;">geopos</span><span style="color:#24292E;"> </span><span style="color:#032F62;">key</span><span style="color:#24292E;"> </span><span style="color:#032F62;">member</span><span style="color:#24292E;"> [member </span><span style="color:#032F62;">...]</span><span style="color:#24292E;"> </span><span style="color:#6A737D;"># 获取地理位置</span></span>
<span class="line"><span style="color:#6F42C1;">geodist</span><span style="color:#24292E;"> </span><span style="color:#032F62;">key</span><span style="color:#24292E;"> </span><span style="color:#032F62;">member1</span><span style="color:#24292E;"> </span><span style="color:#032F62;">member2</span><span style="color:#24292E;"> [unit] </span><span style="color:#6A737D;"># 获取两个地理位置的距离</span></span>
<span class="line"><span style="color:#6F42C1;">geoencode</span><span style="color:#24292E;"> </span><span style="color:#032F62;">key</span><span style="color:#24292E;"> </span><span style="color:#032F62;">member1</span><span style="color:#24292E;"> [member </span><span style="color:#032F62;">...]</span><span style="color:#24292E;"> </span><span style="color:#6A737D;"># 获取地理位置的编码</span></span>
<span class="line"><span style="color:#6F42C1;">geohash</span><span style="color:#24292E;"> </span><span style="color:#032F62;">key</span><span style="color:#24292E;"> </span><span style="color:#032F62;">member1</span><span style="color:#24292E;"> [member </span><span style="color:#032F62;">...]</span><span style="color:#24292E;"> </span><span style="color:#6A737D;"># 获取地理位置的hash值</span></span>
<span class="line"><span style="color:#6F42C1;">georadius</span><span style="color:#24292E;"> </span><span style="color:#032F62;">key</span><span style="color:#24292E;"> </span><span style="color:#032F62;">longitude</span><span style="color:#24292E;"> </span><span style="color:#032F62;">latitude</span><span style="color:#24292E;"> </span><span style="color:#032F62;">radius</span><span style="color:#24292E;"> </span><span style="color:#032F62;">m</span><span style="color:#D73A49;">|</span><span style="color:#6F42C1;">km</span><span style="color:#D73A49;">|</span><span style="color:#6F42C1;">ft</span><span style="color:#D73A49;">|</span><span style="color:#6F42C1;">mi</span><span style="color:#24292E;"> [WITHCOORD] [WITHDIST] [WITHHASH] [COUNT count] [ASC</span><span style="color:#D73A49;">|</span><span style="color:#24292E;">DESC] [STORE key] [STOREDIST key] </span><span style="color:#6A737D;"># 获取指定范围内的地理位置</span></span>
<span class="line"><span style="color:#6F42C1;">georadiusbymember</span><span style="color:#24292E;"> </span><span style="color:#032F62;">key</span><span style="color:#24292E;"> </span><span style="color:#032F62;">member</span><span style="color:#24292E;"> </span><span style="color:#032F62;">radius</span><span style="color:#24292E;"> </span><span style="color:#032F62;">m</span><span style="color:#D73A49;">|</span><span style="color:#6F42C1;">km</span><span style="color:#D73A49;">|</span><span style="color:#6F42C1;">ft</span><span style="color:#D73A49;">|</span><span style="color:#6F42C1;">mi</span><span style="color:#24292E;"> [WITHCOORD] [WITHDIST] [WITHHASH] [COUNT count] [ASC</span><span style="color:#D73A49;">|</span><span style="color:#24292E;">DESC] [STORE key] [STOREDIST key] </span><span style="color:#6A737D;"># 获取指定范围内的地理位置</span></span></code></pre><div class="line-numbers-wrapper" aria-hidden="true"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br></div></div><h3 id="stream" tabindex="-1">Stream <a class="header-anchor" href="#stream" aria-label="Permalink to &quot;Stream&quot;">​</a></h3><div class="language-shell vp-adaptive-theme line-numbers-mode"><button title="Copy Code" class="copy"></button><span class="lang">shell</span><pre class="shiki github-dark vp-code-dark"><code><span class="line"><span style="color:#B392F0;">xadd</span><span style="color:#E1E4E8;"> </span><span style="color:#9ECBFF;">key</span><span style="color:#E1E4E8;"> </span><span style="color:#9ECBFF;">ID</span><span style="color:#E1E4E8;"> </span><span style="color:#9ECBFF;">field</span><span style="color:#E1E4E8;"> </span><span style="color:#9ECBFF;">value</span><span style="color:#E1E4E8;"> [field </span><span style="color:#9ECBFF;">value</span><span style="color:#E1E4E8;"> </span><span style="color:#9ECBFF;">...]</span><span style="color:#E1E4E8;"> </span><span style="color:#6A737D;"># 添加元素</span></span>
<span class="line"><span style="color:#B392F0;">xrange</span><span style="color:#E1E4E8;"> </span><span style="color:#9ECBFF;">key</span><span style="color:#E1E4E8;"> </span><span style="color:#9ECBFF;">start</span><span style="color:#E1E4E8;"> </span><span style="color:#9ECBFF;">end</span><span style="color:#E1E4E8;"> [COUNT </span><span style="color:#9ECBFF;">count]</span><span style="color:#E1E4E8;"> </span><span style="color:#6A737D;"># 获取指定范围的元素</span></span>
<span class="line"><span style="color:#B392F0;">xdel</span><span style="color:#E1E4E8;"> </span><span style="color:#9ECBFF;">key</span><span style="color:#E1E4E8;"> </span><span style="color:#9ECBFF;">ID</span><span style="color:#E1E4E8;"> [ID </span><span style="color:#9ECBFF;">...]</span><span style="color:#E1E4E8;"> </span><span style="color:#6A737D;"># 删除元素</span></span>
<span class="line"><span style="color:#B392F0;">xlen</span><span style="color:#E1E4E8;"> </span><span style="color:#9ECBFF;">key</span><span style="color:#E1E4E8;"> </span><span style="color:#6A737D;"># 获取长度</span></span>
<span class="line"><span style="color:#B392F0;">xtrim</span><span style="color:#E1E4E8;"> </span><span style="color:#9ECBFF;">key</span><span style="color:#E1E4E8;"> </span><span style="color:#9ECBFF;">MAXLEN</span><span style="color:#E1E4E8;"> [~] count </span><span style="color:#6A737D;"># 截取元素</span></span>
<span class="line"><span style="color:#B392F0;">xread</span><span style="color:#E1E4E8;"> [COUNT </span><span style="color:#9ECBFF;">count]</span><span style="color:#E1E4E8;"> [BLOCK </span><span style="color:#9ECBFF;">milliseconds]</span><span style="color:#E1E4E8;"> </span><span style="color:#9ECBFF;">STREAMS</span><span style="color:#E1E4E8;"> </span><span style="color:#9ECBFF;">key</span><span style="color:#E1E4E8;"> [key </span><span style="color:#9ECBFF;">...]</span><span style="color:#E1E4E8;"> </span><span style="color:#9ECBFF;">ID</span><span style="color:#E1E4E8;"> [ID </span><span style="color:#9ECBFF;">...]</span><span style="color:#E1E4E8;"> </span><span style="color:#6A737D;"># 读取元素</span></span></code></pre><pre class="shiki github-light vp-code-light"><code><span class="line"><span style="color:#6F42C1;">xadd</span><span style="color:#24292E;"> </span><span style="color:#032F62;">key</span><span style="color:#24292E;"> </span><span style="color:#032F62;">ID</span><span style="color:#24292E;"> </span><span style="color:#032F62;">field</span><span style="color:#24292E;"> </span><span style="color:#032F62;">value</span><span style="color:#24292E;"> [field </span><span style="color:#032F62;">value</span><span style="color:#24292E;"> </span><span style="color:#032F62;">...]</span><span style="color:#24292E;"> </span><span style="color:#6A737D;"># 添加元素</span></span>
<span class="line"><span style="color:#6F42C1;">xrange</span><span style="color:#24292E;"> </span><span style="color:#032F62;">key</span><span style="color:#24292E;"> </span><span style="color:#032F62;">start</span><span style="color:#24292E;"> </span><span style="color:#032F62;">end</span><span style="color:#24292E;"> [COUNT </span><span style="color:#032F62;">count]</span><span style="color:#24292E;"> </span><span style="color:#6A737D;"># 获取指定范围的元素</span></span>
<span class="line"><span style="color:#6F42C1;">xdel</span><span style="color:#24292E;"> </span><span style="color:#032F62;">key</span><span style="color:#24292E;"> </span><span style="color:#032F62;">ID</span><span style="color:#24292E;"> [ID </span><span style="color:#032F62;">...]</span><span style="color:#24292E;"> </span><span style="color:#6A737D;"># 删除元素</span></span>
<span class="line"><span style="color:#6F42C1;">xlen</span><span style="color:#24292E;"> </span><span style="color:#032F62;">key</span><span style="color:#24292E;"> </span><span style="color:#6A737D;"># 获取长度</span></span>
<span class="line"><span style="color:#6F42C1;">xtrim</span><span style="color:#24292E;"> </span><span style="color:#032F62;">key</span><span style="color:#24292E;"> </span><span style="color:#032F62;">MAXLEN</span><span style="color:#24292E;"> [~] count </span><span style="color:#6A737D;"># 截取元素</span></span>
<span class="line"><span style="color:#6F42C1;">xread</span><span style="color:#24292E;"> [COUNT </span><span style="color:#032F62;">count]</span><span style="color:#24292E;"> [BLOCK </span><span style="color:#032F62;">milliseconds]</span><span style="color:#24292E;"> </span><span style="color:#032F62;">STREAMS</span><span style="color:#24292E;"> </span><span style="color:#032F62;">key</span><span style="color:#24292E;"> [key </span><span style="color:#032F62;">...]</span><span style="color:#24292E;"> </span><span style="color:#032F62;">ID</span><span style="color:#24292E;"> [ID </span><span style="color:#032F62;">...]</span><span style="color:#24292E;"> </span><span style="color:#6A737D;"># 读取元素</span></span></code></pre><div class="line-numbers-wrapper" aria-hidden="true"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br></div></div>`,27),e=[o];function r(c,t,y,E,F,i){return n(),a("div",null,e)}const k=s(p,[["render",r]]);export{C as __pageData,k as default};
